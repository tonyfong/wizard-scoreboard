# 🧪 智能測試觸發機制

## 📋 測試觸發條件

### 🔴 必須運行測試的改動類型：
- **JavaScript核心邏輯修改** - 計分邏輯、遊戲流程、數據存儲
- **HTML結構重大變更** - 新增/刪除重要元素、ID/class名稱變更
- **遊戲規則修改** - 發牌規則、計分規則、回合管理
- **數據結構變更** - localStorage格式、遊戲狀態管理
- **事件處理器修改** - 按鈕點擊、輸入驗證、階段切換

### 🟡 建議運行測試的改動類型：
- **CSS樣式重大調整** - 可能影響按鈕點擊區域、響應式布局
- **新增功能** - 新按鈕、新輸入框、新驗證邏輯
- **性能優化** - 可能影響遊戲流程的優化
- **錯誤處理改進** - 新增錯誤提示、驗證邏輯

### 🟢 不需要運行測試的改動類型：
- **純CSS美化** - 顏色、字體、間距調整（不影響功能）
- **文檔更新** - README、註釋、說明文字
- **代碼重構** - 變量重命名、代碼整理（不改變邏輯）
- **測試文件修改** - 測試指南、日誌文件

## 🤖 AI助手測試觸發流程

### 當我進行改動時，我會：

1. **分析改動類型**
   - 檢查是否屬於🔴必須測試的類型
   - 檢查是否屬於🟡建議測試的類型

2. **自動詢問**
   ```
   🔍 檢測到可能影響功能的改動：
   - 改動類型：[具體類型]
   - 影響範圍：[具體影響]
   - 建議測試：是/否
   
   是否需要運行完整測試？(y/n)
   ```

3. **根據你的回應**
   - **是(y)** - 立即運行 `test/MANUAL_TEST.md` 完整測試
   - **否(n)** - 跳過測試，直接完成改動

## 📝 測試執行記錄

### 測試觸發記錄：
- **觸發時間**：___________
- **改動類型**：___________
- **觸發原因**：___________
- **測試結果**：✅通過 / ❌失敗
- **修復狀態**：___________

## 🎯 使用指南

### 對我（AI助手）的要求：
1. **每次改動前** - 分析改動類型
2. **符合觸發條件時** - 自動詢問是否需要測試
3. **獲得確認後** - 運行完整測試流程
4. **測試完成後** - 更新測試日誌
5. **如有問題** - 修復後重新測試

### 對你（用戶）的要求：
1. **收到詢問時** - 根據改動重要性決定
2. **重要改動** - 建議選擇"是"進行測試
3. **輕微改動** - 可以選擇"否"跳過測試
4. **測試失敗時** - 配合修復問題

## 🔄 測試流程

當觸發測試時，我會：
1. 啟動本地服務器
2. 使用瀏覽器工具進行自動化測試
3. 按照 `MANUAL_TEST.md` 執行完整流程
4. 記錄結果到 `TEST_LOG.md`
5. 如有問題，修復後重新測試

---
*此機制確保重要改動都經過驗證，同時避免不必要的測試開銷*
